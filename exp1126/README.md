# 実験1126 - 改善版ハイパーパラメータでの実験

## 実験概要
前回の実験(exp1125)で学習がうまくいかなかったため、以下の改善を加えた実験を実施。

## 実施日
2025年11月26日

## 実験バリエーション

### 実験1 (run_experiment.sh)
**戦略**: 大きなモデル + 慎重な学習

- **モデルサイズ**: より大きなモデルで表現力向上
  - `d_model`: 128 → **256**
  - `n_heads`: 4 → **8**
  - `n_layers`: 2 → **3**
  - `d_ff`: 512 → **1024**

- **学習設定**: より慎重な学習
  - `learning_rate`: 0.001 → **0.0005**
  - `epochs`: 100 → **150**

- **温度スケジューリング**: より穏やかな変化
  - `temp_initial`: 5.0 → **3.0**
  - `temp_final`: 0.1 → **0.5**

### 実験2 (run_experiment_v2.sh)
**戦略**: より深いモデル + 高速学習

- **モデルサイズ**: 深さを重視
  - `d_model`: **128** (維持)
  - `n_heads`: **4** (維持)
  - `n_layers`: 2 → **4**
  - `d_ff`: **512** (維持)

- **学習設定**: より積極的な学習
  - `learning_rate`: 0.001 → **0.002**
  - `epochs`: 100 → **150**

- **温度スケジューリング**: 元の設定を維持
  - `temp_initial`: **5.0**
  - `temp_final`: **0.1**

- **シード**: 42 → **43**

### 実験3 (run_experiment_v3.sh)
**戦略**: バランス型 + 緩やかな温度変化

- **モデルサイズ**: 中間的なサイズ
  - `d_model`: 128 → **192**
  - `n_heads`: 4 → **6**
  - `n_layers`: 2 → **3**
  - `d_ff`: 512 → **768**

- **学習設定**: 中程度の学習率
  - `learning_rate`: 0.001 → **0.0008**
  - `epochs`: 100 → **150**

- **温度スケジューリング**: バランスの取れた変化
  - `temp_initial`: 5.0 → **4.0**
  - `temp_final`: 0.1 → **0.3**

- **シード**: 42 → **44**

## 実行方法

```bash
# 実験1を実行
./exp1126/run_experiment.sh

# 実験2を実行 (実験1完了後)
./exp1126/run_experiment_v2.sh

# 実験3を実行 (実験2完了後)
./exp1126/run_experiment_v3.sh
```

## 期待される改善点

1. **モデル容量の増加**: より複雑なパターンを学習可能
2. **学習率の調整**: 過学習や学習の不安定性を軽減
3. **温度スケジューリングの最適化**: Gumbel-Softmaxの離散化をより効果的に
4. **より多いエポック数**: 十分な学習時間を確保

## 結果の保存先

- ログディレクトリ: `discretized_logs/exp1126/`
- 各実験のモデルと結果は個別のディレクトリに保存
- 汎化テストは長さ60までの系列で実施
